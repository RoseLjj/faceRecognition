<!DOCTYPE html>
<html lang="en">
<html>
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="./face/js/jquery-1.11.0.js"></script>
</head>
<body>


<div>
    <img src="" alt="" id="imgSrc">
</div>

</body>
</html>
<script>
    var url = 'http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJr3UUU6wvIOOv5RC0dBnkVELvZFBImNnmib6k4Jgr9V1ZBibw3Xz0ljDm0OTThsglpDvb34bicNWHVA/132'
   /* function getUrlParam(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
        var r = window.location.search.substr(1).match(reg);  //匹配目标参数
        //console.log(unescape(r[2]));
        if (r != null) return (r[2]);
        return null; //返回参数值
    }
    function getBase64Image(img) {
        var canvas = document.createElement("canvas");
        canvas.width = img.width;
        canvas.height = img.height;
        var ctx = canvas.getContext("2d");
        ctx.drawImage(img, 0, 0, img.width, img.height);
        var ext = img.src.substring(img.src.lastIndexOf(".")+1).toLowerCase();
        var dataURL = canvas.toDataURL("image/"+ext);
        return dataURL;
    }
    function getBase64Image2(img) {
        var canvas = document.createElement("canvas");
        canvas.width = img.width;
        canvas.height = img.height;
        var ctx = canvas.getContext("2d");
        ctx.drawImage(img, 0, 0, img.width, img.height);
        var ext = img.src.substring(img.src.lastIndexOf(".")+1).toLowerCase();
        var dataURL = canvas.toDataURL("image/"+ext);
        return dataURL;
    }

    var image = new Image();
    image.src = url;
    image.onload = function(){
        var base64 = getBase64Image(image);
        $('#imgSrc').attr('src',base64);
    }*/

    var can = document.createElement('canvas');
    var ctx = can.getContext("2d");
    var image = new Image();
    image.crossOrigin = "Anonymous";
    image.src = url;
    image.onload = function () {
        can.width = this.width;
        can.height = this.height;
        ctx.drawImage(this,0,0);
        var base64 = can.toDataURL();
        $('#imgSrc').attr('src',base64);

    }
</script>